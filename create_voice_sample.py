#!/usr/bin/env python3
"""
–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ
"""

import random
from gtts import gTTS

def convert_to_personal_voice_style(text):
    """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ–¥ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å —Ä–µ—á–∏"""
    # –°–ª–æ–≤–∞—Ä—å –∑–∞–º–µ–Ω –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—è —Ä–µ—á–∏
    voice_replacements = {
        # –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ –∑–∞–º–µ–Ω—ã
        "—á": "—à", "—â": "—à", "—Ü": "—Å", "–∂": "–∑",
        "—ã": "–∏", "—ç": "–µ", "—é": "—É", "—è": "–∞", "—ë": "e",
        "—å": "", "—ä": "",
        
        # –†–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è
        "—Ä—É–±–ª–µ–π": "—Ä—É–±", "—Ä—É–±–ª–∏": "—Ä—É–±", "—Ä—É–±": "—Ä—É–±",
        "–º–∞—Ç–µ—Ä–∏–∞–ª—ã": "–º–∞—Ç—ë—Ä–∏–∞–ª—ã", "–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã": "–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
        "—Ç–∞–∫—Å–∏": "—Ç–∞–∫—Å–∏", "–º–∞—à–∏–Ω–∞": "–º–∞—à–∏–Ω–∞",
        
        # –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —Ñ—Ä–∞–∑—ã –∏ –º–µ–∂–¥–æ–º–µ—Ç–∏—è
        "‚ÇΩ": " —Ä—É–±",
        ",": ", –Ω—É,",
        ".": ", –ø–æ–Ω—è–ª?",
        "!": ", –¥–∞!",
        "?": ", –∞?"
    }
    
    # –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏
    characteristic_insertions = [
        " –Ω—É,", " –¥–∞,", " –≤–æ—Ç,", " —Ç–∞–∫,", " –∑–Ω–∞—á–∏—Ç,",
        " –ø–æ–Ω–∏–º–∞–µ—à—å,", " —Å–ª—É—à–∞–π,", " —Å–º–æ—Ç—Ä–∏,",
        " –∫–æ—Ä–æ—á–µ,", " –≤ –æ–±—â–µ–º,", " –∫—Å—Ç–∞—Ç–∏,"
    ]
    
    # –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–∏–ª–∏—Ç–µ–ª–∏
    emotional_amplifiers = [
        " –æ—á–µ–Ω—å", " —Å–∏–ª—å–Ω–æ", " —Ä–µ–∞–ª—å–Ω–æ", " –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ",
        " –ø—Ä—è–º", " –≤–æ–æ–±—â–µ", " —Å–æ–≤—Å–µ–º", " —Å–æ–≤—Å–µ–º-—Å–æ–≤—Å–µ–º"
    ]
    
    # –ü—Ä–∏–º–µ–Ω—è–µ–º –∑–∞–º–µ–Ω—ã
    result = text.lower()
    for original, replacement in voice_replacements.items():
        result = result.replace(original, replacement)
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏
    if random.random() < 0.4:  # 40% —à–∞–Ω—Å
        insertion = random.choice(characteristic_insertions)
        # –í—Å—Ç–∞–≤–ª—è–µ–º –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –º–µ—Å—Ç–æ
        words = result.split()
        if len(words) > 2:
            insert_pos = random.randint(1, len(words) - 1)
            words.insert(insert_pos, insertion.strip())
            result = " ".join(words)
    
    # –î–æ–±–∞–≤–ª—è–µ–º —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–∏–ª–∏—Ç–µ–ª–∏
    if random.random() < 0.3:  # 30% —à–∞–Ω—Å
        amplifier = random.choice(emotional_amplifiers)
        # –î–æ–±–∞–≤–ª—è–µ–º –∫ —Å–ª—É—á–∞–π–Ω–æ–º—É —Å–ª–æ–≤—É
        words = result.split()
        if words:
            word_pos = random.randint(0, len(words) - 1)
            words[word_pos] = f"{amplifier} {words[word_pos]}"
            result = " ".join(words)
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –∑–≤—É–∫–∏
    if random.random() < 0.2:
        result = result.replace("–∞", "–∞—Ö", 1)
    if random.random() < 0.15:
        result = result.replace("–æ", "–æ—Ö", 1)
        
    return result

def create_voice_samples():
    """–°–æ–∑–¥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π"""
    
    print("üé§ –°–û–ó–î–ê–ù–ò–ï –ü–†–ò–ú–ï–†–û–í –ì–û–õ–û–°–û–í–´–• –°–û–û–ë–©–ï–ù–ò–ô")
    print("=" * 45)
    print()
    
    # –ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π
    sample_messages = [
        "—É–±—Ä–∞—Ç—å –ø–∏–ª—å —Å –∫–Ω–π–≥, 4.000‚ÇΩ —Ç–∞–∫—Å–∏ —Å –º–µ–Ω—è",
        "–∑–æ–±–ª–æ–∫–π—Ä–æ–≤–∞—Ç—å —à–∞–π–±–∏ –æ—Ç –∫–ª—ë—è –Ω–∞ —Ç—Ä–æ—Ç—É–∞—Ä–µ, 1200‚ÇΩ —Ç–∞–∫—Å–∏ —Å –º–µ–Ω—è, –Ω–∞–ª–∏—á–Ω—ã–º–∏",
        "–ø–∞–º—ã–π—Ç—å –ª—é—Å—Ç—Ä—É, 2.300‚ÇΩ –≤ –ø–æ–¥–∞—Ä–æ–∫ –º–æ–ª–æ—Ç–æ–∫",
        "—Å–æ–±—Ä–∞—Ç—å –ø–æ–ª–∏ –æ—Ç —É–∫—Å—É—Å–∞, 1000‚ÇΩ –≤ –ø–æ–¥–∞—Ä–æ–∫ –ª–æ–ø–∞—Ç—É",
        "–ø–∞–∫–æ—Ä–º–∏—Ç—å –ª—ë—Å–∫—É –Ω–∞ –∫—Ä–æ–≤–∞—Ç–∏, 2500‚ÇΩ –º–∞—Ç—ë—Ä–∏–∞–ª–∏ + —Ç–∞–∫—Å–∏"
    ]
    
    created_files = []
    
    for i, message in enumerate(sample_messages, 1):
        print(f"üì¢ –°–æ–∑–¥–∞—é –ø—Ä–∏–º–µ—Ä {i}...")
        
        # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç
        transformed_text = convert_to_personal_voice_style(message)
        
        print(f"üìù –û—Ä–∏–≥–∏–Ω–∞–ª: {message}")
        print(f"üé≠ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: {transformed_text}")
        
        try:
            # –°–æ–∑–¥–∞–µ–º TTS
            tts = gTTS(text=transformed_text, lang='ru', slow=False)
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª
            filename = f"voice_sample_{i}.mp3"
            tts.save(filename)
            created_files.append(filename)
            
            print(f"‚úÖ –°–æ–∑–¥–∞–Ω: {filename}")
            print("-" * 50)
            
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ {i}: {e}")
            print("-" * 50)
    
    print(f"\nüéµ –°–û–ó–î–ê–ù–û {len(created_files)} –ì–û–õ–û–°–û–í–´–• –ü–†–ò–ú–ï–†–û–í:")
    for file in created_files:
        print(f"‚Ä¢ {file}")
    
    print("\nüéß –î–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –ª—é–±–æ–º –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–µ!")
    print("üí° –≠—Ç–æ –ø—Ä–∏–º–µ—Ä—ã —Ç–æ–≥–æ, –∫–∞–∫ –±—É–¥—É—Ç –∑–≤—É—á–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –≤–∞—à–µ–º —Å—Ç–∏–ª–µ.")
    
    return created_files

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    print("üé≠ –ü–†–ò–ú–ï–† –ì–û–õ–û–°–û–í–û–ì–û –°–û–û–ë–©–ï–ù–ò–Ø –í –í–ê–®–ï–ú –°–¢–ò–õ–ï")
    print("=" * 50)
    print()
    
    # –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã
    files = create_voice_samples()
    
    print(f"\nüéØ –ì–û–¢–û–í–û! –°–æ–∑–¥–∞–Ω–æ {len(files)} –ø—Ä–∏–º–µ—Ä–æ–≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.")
    print("üîä –ü—Ä–æ—Å–ª—É—à–∞–π—Ç–µ –∏—Ö, —á—Ç–æ–±—ã —É—Å–ª—ã—à–∞—Ç—å, –∫–∞–∫ –±—É–¥–µ—Ç –∑–≤—É—á–∞—Ç—å –≤–∞—à –±–æ—Ç!")

if __name__ == "__main__":
    main()
